{
  "project": "Agent Spaces v2",
  "branchName": "ralph/phase-7-manager",
  "description": "Phase 7 - Manager Space: Create the agent-spaces-manager space with commands, skills, and agent",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create Space Manifest",
      "description": "As a shipped space, I need a valid space.toml manifest.",
      "acceptanceCriteria": [
        "spaces/agent-spaces-manager/space.toml exists",
        "id: agent-spaces-manager",
        "name: agent-spaces-manager",
        "version: 0.1.0",
        "description: AI assistant for creating and managing Agent Spaces",
        "No dependencies (self-contained)",
        "Passes asp lint",
        "Typecheck passes (N/A - no TS)"
      ],
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Implement help Command",
      "description": "As a user, I need a help command that shows available asp operations.",
      "acceptanceCriteria": [
        "commands/help.md file",
        "Lists all asp CLI commands with brief descriptions",
        "Groups commands by category (run, project, repo)",
        "Includes examples for common workflows",
        "Uses /agent-spaces-manager:help fully-qualified form in docs"
      ],
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Implement create-space Command",
      "description": "As a user, I need help creating a new space with correct structure.",
      "acceptanceCriteria": [
        "commands/create-space.md file",
        "Asks for: space name, description, components needed",
        "Creates directory structure in registry",
        "Creates minimal space.toml",
        "Creates placeholder files for selected components",
        "Validates name is valid kebab-case",
        "Shows next steps after creation"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Implement add-skill Command",
      "description": "As a user, I need help adding a skill to my space.",
      "acceptanceCriteria": [
        "commands/add-skill.md file",
        "Asks for: skill name, description",
        "Creates skills/<name>/SKILL.md with template",
        "Template includes standard sections (trigger, process, example)",
        "Updates space.toml if needed",
        "Shows how to test the skill"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Implement add-command Command",
      "description": "As a user, I need help adding a command to my space.",
      "acceptanceCriteria": [
        "commands/add-command.md file",
        "Asks for: command name, description",
        "Creates commands/<name>.md with template",
        "Template includes description and placeholder content",
        "Shows how to invoke the command"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Implement add-hook Command",
      "description": "As a user, I need help adding a hook to my space.",
      "acceptanceCriteria": [
        "commands/add-hook.md file",
        "Asks for: hook type (PreToolUse, PostToolUse, etc.)",
        "Creates hooks/hooks.json if not exists",
        "Creates hook script with template",
        "Sets executable permissions",
        "Uses ${CLAUDE_PLUGIN_ROOT} in paths",
        "Validates hook configuration"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Implement bump-version Command",
      "description": "As a user, I need help updating my space's version.",
      "acceptanceCriteria": [
        "commands/bump-version.md file",
        "Shows current version",
        "Asks for bump type (major, minor, patch) or specific version",
        "Updates version in space.toml",
        "Suggests running publish after bump"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Implement publish Command",
      "description": "As a user, I need help publishing my space.",
      "acceptanceCriteria": [
        "commands/publish.md file",
        "Runs lint first and reports issues",
        "Asks for version tag",
        "Asks for dist-tag (stable, latest, beta, none)",
        "Runs asp repo publish with correct args",
        "Shows confirmation and next steps"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Implement update-project-targets Command",
      "description": "As a user, I need help modifying my project's asp-targets.toml.",
      "acceptanceCriteria": [
        "commands/update-project-targets.md file",
        "Detects project root (finds asp-targets.toml)",
        "Shows current targets and their spaces",
        "Helps add/remove spaces from targets",
        "Helps create new targets",
        "Runs install after changes"
      ],
      "priority": 9,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Implement space-authoring Skill",
      "description": "As a user, I need guidance on space authoring best practices.",
      "acceptanceCriteria": [
        "skills/space-authoring/SKILL.md file",
        "Explains space structure and components",
        "Covers commands, skills, agents, hooks",
        "Explains MCP configuration",
        "Covers versioning and publishing",
        "Includes common patterns and anti-patterns"
      ],
      "priority": 10,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Implement manager Agent",
      "description": "As a user, I need an agent that coordinates space management workflows.",
      "acceptanceCriteria": [
        "agents/manager.md file",
        "Understands user's intent (create, modify, publish)",
        "Delegates to appropriate commands",
        "Handles multi-step workflows",
        "Provides context-aware suggestions",
        "Uses fully-qualified command references"
      ],
      "priority": 11,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Validate Space Structure",
      "description": "As a shipped space, I need valid structure that passes all checks.",
      "acceptanceCriteria": [
        "All commands are valid markdown",
        "All skills follow SKILL.md format",
        "Agent file is valid",
        "asp lint spaces/agent-spaces-manager passes",
        "Space can be materialized successfully",
        "Integration test: run with claude-shim"
      ],
      "priority": 12,
      "passes": false,
      "notes": ""
    }
  ]
}
